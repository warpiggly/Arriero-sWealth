<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Arriero's Wealth - Of Mules and Coins</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h2>ARRIERO'S WEALTH <span style="color: #cccccc;">- Of Mules and Coins</span></h2>
  
  <div class="tab">
    <button class="tablinks active" onclick="openTab(event, 'ingresos')">Ingresos</button>
    <button class="tablinks" onclick="openTab(event, 'gastos')">Gastos</button>
    <button class="tablinks" onclick="openTab(event, 'analisis')">Análisis</button>
  </div>
  
  <!-- Pestaña de ingresos -->
  <div id="ingresos" class="tabcontent active">
    <h3>Mis Ingresos</h3>
    <label for="ingreso">Ingreso mensual:</label>
    <input type="number" id="ingreso" min="0">
    <button id="guardarIngreso">Guardar</button>
  </div>
  
  <!-- Pestaña de gastos -->
  <div id="gastos" class="tabcontent">
    <h3>Mis Gastos Mensuales</h3>
    
    <div class="categoria-gastos">
      <h4>Esenciales para la vida</h4>
      <div class="gasto-item">
        <label for="vivienda">Vivienda:</label>
        <input type="number" id="vivienda" min="0" class="gasto" data-categoria="esencial">
      </div>
      <div class="gasto-item">
        <label for="alimentacion">Alimentación:</label>
        <input type="number" id="alimentacion" min="0" class="gasto" data-categoria="esencial">
      </div>
      <div class="gasto-item">
        <label for="servicios">Servicios:</label>
        <input type="number" id="servicios" min="0" class="gasto" data-categoria="esencial">
      </div>
      <div class="gasto-item">
        <label for="transporte">Transporte:</label>
        <input type="number" id="transporte" min="0" class="gasto" data-categoria="esencial">
      </div>
      <div class="gasto-item">
        <label for="salud">Salud:</label>
        <input type="number" id="salud" min="0" class="gasto" data-categoria="esencial">
      </div>
    </div>
    
    <div class="categoria-gastos">
      <h4>Importantes</h4>
      <div class="gasto-item">
        <label for="deudas">Deudas:</label>
        <input type="number" id="deudas" min="0" class="gasto" data-categoria="importante">
      </div>
      <div class="gasto-item">
        <label for="ahorro">Ahorro:</label>
        <input type="number" id="ahorro" min="0" class="gasto" data-categoria="importante">
      </div>
      <div class="gasto-item">
        <label for="estudio">Estudio:</label>
        <input type="number" id="estudio" min="0" class="gasto" data-categoria="importante">
      </div>
      <div class="gasto-item">
        <label for="mantenimiento">Mantenimiento del hogar:</label>
        <input type="number" id="mantenimiento" min="0" class="gasto" data-categoria="importante">
      </div>
    </div>
    
    <div class="categoria-gastos">
      <h4>Opcionales</h4>
      <div class="gasto-item">
        <label for="entretenimiento">Entretenimiento:</label>
        <input type="number" id="entretenimiento" min="0" class="gasto" data-categoria="opcional">
      </div>
      <div class="gasto-item">
        <label for="salidas">Salidas a comer:</label>
        <input type="number" id="salidas" min="0" class="gasto" data-categoria="opcional">
      </div>
      <div class="gasto-item">
        <label for="compras">Compras no esenciales:</label>
        <input type="number" id="compras" min="0" class="gasto" data-categoria="opcional">
      </div>
      <div class="gasto-item">
        <label for="viajes">Viajes:</label>
        <input type="number" id="viajes" min="0" class="gasto" data-categoria="opcional">
      </div>
      <div class="gasto-item">
        <label for="suscripciones">Suscripciones/membresías:</label>
        <input type="number" id="suscripciones" min="0" class="gasto" data-categoria="opcional">
      </div>
    </div>

    <!-- Nueva sección para gastos personalizados -->
    <div class="categoria-gastos">
      <h4>Mis Gastos Personalizados</h4>
      <div id="gastos-personalizados-container">
        <!-- Aquí se mostrarán los gastos personalizados agregados -->
      </div>
      
      <div class="gasto-personalizado-form">
        <div class="gasto-item">
          <label for="nuevo-gasto-nombre">Nombre:</label>
          <input type="text" id="nuevo-gasto-nombre" placeholder="Ej: Gimnasio">
        </div>
        <div class="gasto-item">
          <label for="nuevo-gasto-monto">Monto:</label>
          <input type="number" id="nuevo-gasto-monto" min="0">
        </div>
        <div class="gasto-item">
          <label for="nuevo-gasto-categoria">Categoría:</label>
          <select id="nuevo-gasto-categoria">
            <option value="esencial">Esencial</option>
            <option value="importante">Importante</option>
            <option value="opcional">Opcional</option>
          </select>
        </div>
        <button id="agregar-gasto-personalizado">Agregar Gasto</button>
      </div>
    </div>

    <p id="totalGastos">Total Gastado: $0.00</p>
    
    <button id="guardarGastos">Guardar Gastos</button>

    <canvas id="graficoGastos" width="300" height="300"></canvas>
    <div id="leyenda"></div>
  </div>
  
  <!-- Pestaña de análisis -->
  <div id="analisis" class="tabcontent">
    <h3>Análisis de Presupuesto</h3>
    <div id="resumen-presupuesto">
      <p><strong>Ingreso total:</strong> <span id="total-ingreso">$0</span></p>
      <p><strong>Gastos esenciales:</strong> <span id="total-esencial">$0</span></p>
      <p><strong>Gastos importantes:</strong> <span id="total-importante">$0</span></p>
      <p><strong>Gastos opcionales:</strong> <span id="total-opcional">$0</span></p>
      <p><strong>Total gastos:</strong> <span id="total-gastos">$0</span></p>
      <hr>
      <p><strong>Dinero disponible:</strong> <span id="dinero-disponible">$0</span></p>
    </div>
    
    <div id="resultado-compra" class="oculto">
      <h3>Análisis de compra</h3>
      <p id="mensaje-compra"></p>
    </div>
  </div>
  
  <script src="popup.js"></script>

</body>
</html>